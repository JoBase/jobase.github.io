<!DOCTYPE html>
<html>
    <head>
        <script src = /Browser/dist/skulpt.js></script>
        <script src = /Browser/dist/skulpt-stdlib.js></script>

        <style>
            body {
                margin: 0;
                overflow: hidden
            }

            canvas {
                width: 100%;
                height: 100%
            }
        </style>
    </head>

    <body>
        <canvas id = canvas></canvas>

        <script>
            (async () => {
                onresize = () => {
                    canvas.width = innerWidth * devicePixelRatio
                    canvas.height = innerHeight * devicePixelRatio
                }

                Sk.configure({output: console.log})
                Sk.JoBase = canvas

                const file = new URLSearchParams(location.search).get("file")
                const code = await fetch("https://raw.githubusercontent.com/JoBase/JoBase/main/JoBase/examples/" + file + ".py")
                const content = await code.text()
                const promise = Sk.misceval.asyncToPromise(() => Sk.importMainWithBody("<stdin>", false, content, true))

                promise.catch(e => console.error(e.toString()))
                onresize()
            })()
        </script>
    </body>
</html>